<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PinDrop Board</title>
  <link rel="icon" type="image/png" href="https://static.thenounproject.com/png/4624255-200.png">
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Patrick Hand', cursive;
      background: url('https://i.ebayimg.com/images/g/ktEAAOSwwAVbba6D/s-l400.jpg') center/cover no-repeat;
      height: 100vh;
      overflow: hidden;
    }

    #board {
      position: relative;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.05);
    }

    .note {
      position: absolute;
      background: #fff8b0;
      padding: 12px 12px 8px;
      border: 1px solid #d4b886;
      box-shadow: 4px 4px 10px rgba(0,0,0,0.3);
      width: 200px;
      min-height: 100px;
      resize: both;
      overflow: auto;
      border-radius: 8px;
      transform: rotate(-1deg);
      transition: transform 0.2s ease, box-shadow 0.3s ease;
      animation: popIn 0.4s ease;
    }

    @keyframes popIn {
      from { transform: scale(0.8) rotate(-2deg); opacity: 0; }
      to { transform: scale(1) rotate(-1deg); opacity: 1; }
    }

    .note:hover {
      transform: rotate(0deg) scale(1.03);
      box-shadow: 6px 6px 12px rgba(0,0,0,0.4);
      z-index: 2;
    }

    .note::before {
      content: '';
      display: block;
      width: 16px;
      height: 16px;
      background: radial-gradient(circle, #d00 40%, #800 100%);
      border-radius: 50%;
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .note textarea {
      width: 100%;
      height: 60px;
      border: none;
      background: transparent;
      resize: none;
      font-family: inherit;
      font-size: 14px;
      color: #333;
    }

    .note button {
      margin-top: 5px;
      font-size: 12px;
      background: #ff6f61;
      color: white;
      border: none;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
    }

    #addNoteBtn {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 10px 15px;
      background: #ff6f61;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
    }

    #noteForm {
      position: absolute;
      top: 50px;
      left: 10px;
      background: #fff;
      padding: 10px;
      border: 1px solid #ccc;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
      display: none;
      z-index: 10;
      border-radius: 6px;
      font-family: 'Patrick Hand', cursive;
    }

    #noteForm textarea {
      width: 100%;
      height: 60px;
      font-size: 14px;
      margin-bottom: 8px;
      font-family: inherit;
    }

    label {
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div id="board"></div>
  <button id="addNoteBtn">+ Add Note</button>

  <div id="noteForm">
    <textarea id="noteText" placeholder="Write your note..."></textarea><br>
    <label><input type="checkbox" id="humanCheck"> I'm not a bot</label><br>
    <button onclick="submitNote()">Post</button>
    <button onclick="cancelNote()">Cancel</button>
  </div>

  <script>
    const board = document.getElementById('board');
    const noteForm = document.getElementById('noteForm');
    const noteText = document.getElementById('noteText');
    const humanCheck = document.getElementById('humanCheck');
    const badWords = ['badword1', 'badword2', 'hate', 'kill', 'racist'];

    let notes = [];

    function showForm() {
      noteForm.style.display = 'block';
    }

    function cancelNote() {
      noteForm.style.display = 'none';
      noteText.value = '';
      humanCheck.checked = false;
    }

    function containsBadWords(text) {
      const lower = text.toLowerCase();
      return badWords.some(word => lower.includes(word));
    }

    function submitNote() {
      const text = noteText.value.trim();
      if (!humanCheck.checked) {
        alert("Please confirm you're not a bot.");
        return;
      }
      if (!text) {
        alert("Note cannot be empty.");
        return;
      }
      if (containsBadWords(text)) {
        alert("Your note contains inappropriate content.");
        return;
      }

      const note = {
        id: Date.now(),
        text,
        x: Math.random() * (window.innerWidth - 220),
        y: Math.random() * (window.innerHeight - 120),
        timestamp: Date.now()
      };
      notes.push(note);
      renderNotes();
      cancelNote();
    }

    function renderNotes() {
      board.innerHTML = '';
      const now = Date.now();
      notes = notes.filter(n => now - n.timestamp < 86400000);
      notes.forEach(note => {
        const div = document.createElement('div');
        div.className = 'note';
        div.style.left = note.x + 'px';
        div.style.top = note.y + 'px';

        const textarea = document.createElement('textarea');
        textarea.value = note.text;
        textarea.onchange = () => {
          if (containsBadWords(textarea.value)) {
            alert("Inappropriate content detected.");
            textarea.value = note.text;
            return;
          }
          note.text = textarea.value;
        };

        const delBtn = document.createElement('button');
        delBtn.textContent = 'Delete';
        delBtn.onclick = () => {
          notes = notes.filter(n => n.id !== note.id);
          renderNotes();
        };

        div.appendChild(textarea);
        div.appendChild(delBtn);
        board.appendChild(div);
      });
    }

    document.getElementById('addNoteBtn').onclick = showForm;
    setInterval(renderNotes, 60000);
  </script>
</body>
</html>
